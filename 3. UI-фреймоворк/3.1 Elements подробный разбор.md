–í –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞—Ö –º—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –≤–∏–¥–∂–µ—Ç–∞–º–∏ Flutter. –ù–∞—á–∏–Ω–∞—è —Å —ç—Ç–æ–π —Ç–µ–º—ã –º—ã –±—É–¥–µ–º —É–≥–ª—É–±–ª—è—Ç—å—Å—è –≤ —Ä–∞–±–æ—Ç—É —Å–∞–º–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.

–î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–∑–±–µ—Ä—ë–º, —á—Ç–æ —Ç–∞–∫–æ–µ `Element`:

- –∫–∞–∫–∏–µ –±—ã–≤–∞—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã;
- –∫–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è;
- –∫–∞–∫–æ–π —É –Ω–∏—Ö –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª.

–ê —Ç–∞–∫–∂–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º –æ —Ç–æ–º, –∫–∞–∫ —Å–≤—è–∑–∞–Ω—ã —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –≤–∏–¥–∂–µ—Ç—ã, `RenderObject` –∏ `BuildContext`.

## BuildContext

–í—ã —É–∂–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å —ç—Ç–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –º–µ—Ç–æ–¥–æ–º `build`.

```dart
@override
Widget build(BuildContext context){
	return SomeWidget();
}
```

–ò–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª–∏ —Ç–µ–∫—É—â—É—é —Ç–µ–º—É.

```dart
@override
Widget build(BuildContext context) {
	final theme = Theme.of(context); // –¢–µ–º–∞

	return SomeWidget(theme: theme);
}
```

–ù–æ –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∞–µ–º –Ω—É–∂–Ω—É—é —Ç–µ–º—É? –ö–∞–∫ –≤–∏–¥–∂–µ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç, –∫—Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å –∏ –≥–¥–µ –≤ –¥–µ—Ä–µ–≤–µ –≤–∏–¥–∂–µ—Ç–æ–≤ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è? –ò –ø–æ—á–µ–º—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–º—ã –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç, –ø–æ—á–µ–º—É –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–æ–º –Ω–∞–º —Ç–æ–∂–µ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç?

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä—ë–º—Å—è!

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –º—ã —Å–æ–∑–¥–∞–ª–∏ —Å–≤–æ–π –≤–∏–¥–∂–µ—Ç, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∫—Ä—É–≥.

```dart
class CircleWidget extends StatelessWidget {
  const HelloWorldText();

	@override
	Widget build(BuildContext context){
		final radius = 100;
		return Container( 
	    decoration: BoxDecoration(
	        shape: BoxShape.circle,
					color: Colors.red,
	    ),
	    width: radius,
			height: radius,
		);
	}
}
```

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –Ω–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–∏–¥–∂–µ—Ç –∑–Ω–∞–ª, –∫—Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å –∏–ª–∏ –æ—Ç–∫—É–¥–∞ –±—Ä–∞—Ç—å —Ç–µ–º—É.  

–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —ç—Ç–æ—Ç –≤–∏–¥–∂–µ—Ç ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –∫–∞–∫–∏–µ-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Å–∫–∞–∂–µ–º —Ü–≤–µ—Ç, —Ä–∞–¥–∏—É—Å –∏ –Ω–∞–ø–æ–ª–Ω–µ–Ω –≤–æ–∑–¥—É—Ö–æ–º. 

–í—Å—ë —ç—Ç–æ –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º, –ø–µ—Ä–µ–¥–∞–≤–∞—è —Ç–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–∫ `color: Colors.red`, `shape: BoxShape.circle`.

–ò–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –∑–∞–¥–∞—ë–º —Ç–æ, —á—Ç–æ —Ö–æ—Ç–∏–º. –ù–æ –∫–∞–∫ –≤—Å—ë —ç—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Ç–æ, —á—Ç–æ –º—ã –≤–∏–¥–∏–º?

–ï—Å–ª–∏ –º—ã –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–ª–∞—Å—Å [`StatelessWidget`](https://api.flutter.dev/flutter/widgets/StatelessWidget-class.html) –∏–ª–∏ [`StatefulWidget`](https://api.flutter.dev/flutter/widgets/StatefulWidget-class.html), —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ —Ç–æ—Ç –∏ –¥—Ä—É–≥–æ–π —è–≤–ª—è—é—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∫–ª–∞—Å—Å–∞ [`Widget`](https://api.flutter.dev/flutter/widgets/Widget-class.html).

```dart
abstract class StatelessWidget extends Widget {
  const StatelessWidget({super.key});

  @override
  StatelessElement createElement() => StatelessElement(this);

  @protected
  Widget build(BuildContext context);
}
// --------
abstract class StatefulWidget extends Widget {
  const StatefulWidget({super.key});

  @override
  StatefulElement createElement() => StatefulElement(this);

  @protected
  @factory
  State createState();
}
```

–ï—Å–ª–∏ –º—ã —É–≥–ª—É–±–∏–º—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∞—Å—Å–∞ `Widget` –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º —Å–ø–∏—Å–æ–∫ –µ–≥–æ –º–µ—Ç–æ–¥–æ–≤, —Ç–æ —É–≤–∏–¥–∏–º –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî [`createElement`](https://api.flutter.dev/flutter/widgets/Widget/createElement.html).

```dart
@immutable
abstract class Widget extends DiagnosticableTree {
  const Widget({this.key});

  final Key? key;

  @protected
  @factory
  Element createElement(); /// –û–ù –¢–£–¢ :)

  @override
  String toStringShort() {...}

  @override
  void debugFillProperties(DiagnosticPropertiesBuilder properties) {...}

  @override
  @nonVirtual
  bool operator ==(Object other) => ...;

  @override
  @nonVirtual
  int get hashCode => super.hashCode;
  
  static bool canUpdate(Widget oldWidget, Widget newWidget) {...}
  static int _debugConcreteSubtype(Widget widget) {...}
}
```

–ï—Å–ª–∏ –º—ã –ø—Ä–æ—á—Ç—ë–º [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Flutter](https://api.flutter.dev/flutter/widgets/Widget/createElement.html) –ø–æ —ç—Ç–æ–º—É –º–µ—Ç–æ–¥—É, —Ç–æ —É–≤–∏–¥–∏–º —Ç–∞–º —Ç–∞–∫—É—é —Å—Ç—Ä–æ—á–∫—É:

<p-important>

Inflates this configuration to a concrete instance.

(–ø–µ—Ä.)
¬´–†–∞–∑–¥—É–≤–∞–µ—Ç —ç—Ç—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞¬ª.

</p-important>

–ï—ë –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Ç–∞–∫: –º–µ—Ç–æ–¥ `createElement`–ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—É—é –Ω–∞–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Ç–æ –µ—Å—Ç—å Widget) –≤–æ —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ.

–ò —ç—Ç–æ ¬´—á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ¬ª –∫–∞–∫ —Ä–∞–∑ –∏ –µ—Å—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ `Element`.  

–¢–æ –µ—Å—Ç—å –∫–æ–≥–¥–∞ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –≤–∏–¥–∂–µ—Ç, —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤—ã–∑—ã–≤–∞–µ—Ç –µ–≥–æ –º–µ—Ç–æ–¥ `createElement` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Element`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. 

–ò–º–µ–Ω–Ω–æ –æ–Ω –∑–Ω–∞–µ—Ç, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–∏–¥–∂–µ—Ç, –∫—Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å, –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ –ø–æ—Ç–æ–º–∫–∏ –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ.

![Untitled.png](https://yastatic.net/s3/ml-handbook/admin/Untitled_26fbdb6e46.png)

–ò –µ—Å–ª–∏ –º—ã —É–≥–ª—É–±–∏–º—Å—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∞—Å—Å–∞ `Element`, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `BuildContext`.

```dart
abstract class Element extends DiagnosticableTree implements BuildContext {
 /// –¢—É—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—É—á–∞ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∏–∂–µ
 ...
}
```

–ò —Ç–µ–ø–µ—Ä—å –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á—É—Ç—å —è—Å–Ω–µ–µ. –ï—Å–ª–∏ `Element` ‚Äî —ç—Ç–æ `BuildContext` –∏ `Element` –∑–Ω–∞–µ—Ç, –≥–¥–µ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –∫—Ç–æ –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—å, —Ç–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –∫—É–¥–∞-–ª–∏–±–æ `context`, —Ç–æ –ø–µ—Ä–µ–¥–∞—ë–º –∏ –≤—Å—é —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —É–∂–µ —Å–∞–º –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –∏ –æ—Ç–∫—É–¥–∞ –±—Ä–∞—Ç—å, –∏ –æ—Ç–¥–∞—ë—Ç –Ω–∞–º —Ç–µ–º —Å–∞–º—ã–º —Ç–µ–º—É –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `Theme.of(context)`.

–ù–æ –ø–æ—á–µ–º—É –∂–µ –∫–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `BuildContext`, —Ç–æ –Ω–µ –≤–∏–¥–∏–º –Ω–∏–∫–∞–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ –¥–æ—á–µ—Ä–Ω–∏—Ö –∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö? –í—Å—ë –ø–æ—Ç–æ–º—É, —á—Ç–æ `BuildContext`  ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –û–Ω —Å–ª—É–∂–∏—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –º—ã –Ω–∏–∫–∞–∫ –Ω–∞–ø—Ä—è–º—É—é –Ω–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞–ª–∏ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏. –û–± —ç—Ç–æ–º —Å–∫–∞–∑–∞–Ω–æ –¥–∞–∂–µ –≤ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://api.flutter.dev/flutter/widgets/BuildContext-class.html):

<p-important>

[BuildContext](https://api.flutter.dev/flutter/widgets/BuildContext-class.html)¬†objects are actually¬†[Element](https://api.flutter.dev/flutter/widgets/Element-class.html)¬†objects. The¬†[BuildContext](https://api.flutter.dev/flutter/widgets/BuildContext-class.html)¬†interface is used to discourage direct manipulation of¬†[Element](https://api.flutter.dev/flutter/widgets/Element-class.html)¬†objects.

</p-important>

–ò –≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç `BuildContext`, —è–≤–ª—è–µ—Ç—Å—è `Element`. –ü–æ—ç—Ç–æ–º—É, –∫–æ–≥–¥–∞ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å `BuildContext`, –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ `Element`.

–ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –∏–∑—É—á–∏–º —Å–∞–º `Element`.

## Element ‚Äî —ç—Ç–æ...

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–º —Å—Ç–æ–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å –ø–æ–Ω—è—Ç–∏–µ–º –≤–∏–¥–∂–µ—Ç–∞, —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ `RenderObject`.

`Widget` ‚Äî —ç—Ç–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è. –ü–æ—á–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è? –ü–æ—Ç–æ–º—É —á—Ç–æ –≤–∏–¥–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è UI. –≠—Ç–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ü–≤–µ—Ç, —Ä–∞–¥–∏—É—Å, –¥–æ—á–µ—Ä–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã. –¢–æ –µ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö. –ò–∑ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –ø–æ–Ω—è—Ç–∏—è –≤–∏–¥–∂–µ—Ç–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã. –ü–æ—ç—Ç–æ–º—É –∫–æ–≥–¥–∞ –≤—ã –±—É–¥–µ—Ç–µ –¥—É–º–∞—Ç—å –æ –≤–∏–¥–∂–µ—Ç–µ, —Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π—Ç–µ, —á—Ç–æ —ç—Ç–æ –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

`Element` ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –û–Ω —Å–ª—É–∂–∏—Ç —Å–≤—è–∑—É—é—â–∏–º –∑–≤–µ–Ω–æ–º –º–µ–∂–¥—É `Widget` –∏ —Ç–µ–º, —á—Ç–æ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ. –≠–ª–µ–º–µ–Ω—Ç—ã –æ–±—Ä–∞–∑—É—é—Ç —Å–≤–æ—ë –¥–µ—Ä–µ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–¥–µ—Ä–µ–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.

`RenderObject` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –≤ –¥–µ—Ä–µ–≤–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, —Ç–æ –µ—Å—Ç—å –≤ –¥–µ—Ä–µ–≤–µ —Ç–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∏—Å–æ–≤–∞–ª–∏—Å—å –Ω–∞ –Ω–∞—à–µ–º —ç–∫—Ä–∞–Ω–µ. `RenderObject` –∫–∞–∫ —Ä–∞–∑ —Ä–∏—Å—É–µ—Ç, —á—Ç–æ –Ω–∞–º –Ω–∞–¥–æ, –∑–∞–¥–∞—ë—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–Ω–µ—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã, —Ü–≤–µ—Ç –∏ –ø—Ä–æ—á–µ–µ, –∞ —Ç–∞–∫–∂–µ —Ä–∞–∑–º–µ—â–∞–µ—Ç –∏ –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –¥—Ä—É–≥ –¥—Ä—É–≥–∞.

–ö–∞–∫ –º—ã —É–∂–µ —Å–∫–∞–∑–∞–ª–∏ —Ä–∞–Ω–µ–µ, —ç–ª–µ–º–µ–Ω—Ç –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π –≤–∏–¥–∂–µ—Ç (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è) –±—ã–ª –∑–∞–¥–∞–Ω –¥–ª—è –Ω–µ–≥–æ, –∫–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç —è–≤–ª—è–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º, –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ –µ—Å—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∫–∞–∫–æ–π —É –Ω–µ–≥–æ  `RenderObject` (–ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –µ–≥–æ —Å–≤—è–∑—å —Å `Element` –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –≤ –∫–æ–Ω—Ü–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞).

![Untitled 1.png](https://yastatic.net/s3/ml-handbook/admin/Untitled_1_214e47d9c5.png)

–ù–æ —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞? –•–æ—Ç—å –º–µ—Ç–æ–¥¬†`createElement`¬†–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É –≤–∏–¥–∂–µ—Ç–∞, –Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–µ –≤–∏–¥–∂–µ—Ç, –∞ –≤—ã–∑—ã–≤–∞—é—Ç –µ–≥–æ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É —Å–≤–æ–∏—Ö –¥–µ—Ç–µ–π.

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è, –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–≥–ª—è–Ω—É—Ç—å –≤–≥–ª—É–±—å Flutter, –Ω–∞–π—Ç–∏ –∫–ª–∞—Å—Å `Element` –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –º–µ—Ç–æ–¥ [`inflateWidget`](https://api.flutter.dev/flutter/widgets/Element/inflateWidget.html).

–ú—ã –≤–∏–¥–∏–º, —á—Ç–æ –≤ —ç—Ç–æ—Ç –≤–∏–¥–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–∞—Ä–∞–º–µ—Ç—Ä `newWidget`), –∏ —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —É –Ω–µ—ë –º—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `createElement`. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—ã–∑–æ–≤–∞ –º—ã –ø–æ–ª—É—á–∏–º –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç. –ò —Ç–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–æ–∫–∞ –º—ã –Ω–µ –¥–æ–π–¥—ë–º –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∏–¥–∂–µ—Ç–∞.

```dart
Element inflateWidget(Widget newWidget, Object? newSlot) {
	...
  final Element newChild = newWidget.createElement();
  ...
}
```

![Untitled 2.png](https://yastatic.net/s3/ml-handbook/admin/Untitled_2_c5ba056c19.png)

–ï—Å–ª–∏ –≤—ã –∑–∞–≥–ª—è–Ω–µ—Ç–µ –≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ª—é–±–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞, —Ç–æ —É–≤–∏–¥–∏—Ç–µ, –∫–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è `StatelessWidget` —Å–æ–∑–¥–∞—ë—Ç—Å—è `StatelessElement`.

```dart
abstract class StatelessWidget extends Widget {
  const StatelessWidget({super.key});

  @override
  StatelessElement createElement() => StatelessElement(this);

  @protected
  Widget build(BuildContext context);
}
```

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –µ—â—ë –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –¥–∞–≤–∞–π—Ç–µ –∏—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º.

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É—Å–ª–æ–≤–Ω–æ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã: 

- —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç `RenderObject`;
- —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç `RenderObject`.

**–ü–µ—Ä–≤–∞—è –≥—Ä—É–ø–ø–∞ (–±–µ–∑ `RenderObject`)** ‚Äî —ç—Ç–æ –≤—Å–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ [`ComponentElement`](https://api.flutter.dev/flutter/widgets/ComponentElement-class.html).

–ü–æ—Å–∫–æ–ª—å–∫—É RenderObject —É –Ω–∏—Ö –Ω–µ—Ç, –æ–Ω–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –≤–∏–¥–∂–µ—Ç—ã –∏ –ø–µ—Ä–µ–¥–∞—é—Ç –∏—Ö –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –¥—Ä—É–≥–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º, —É –∫–æ—Ç–æ—Ä—ã—Ö RenderObject –µ—Å—Ç—å. 

–ü–ª—é—Å –æ–Ω–∏ —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ. 

**–í—Ç–æ—Ä–∞—è –≥—Ä—É–ø–ø–∞** **(—Å `RenderObject`)** ‚Äî —ç—Ç–æ¬†[`RenderObjectElement`](https://api.flutter.dev/flutter/widgets/RenderObjectElement-class.html)¬†–∏ –≤—Å–µ –µ–≥–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏. –î–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π¬†[`RenderObject`](https://api.flutter.dev/flutter/rendering/RenderObject-class.html).

–î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–∏–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç –∫–∞–∫–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è.

![GraphElements_(1).png](https://yastatic.net/s3/ml-handbook/admin/Graph_Elements_1_4f9f8c4ba8.png)

### **1-—è –≥—Ä—É–ø–ø–∞**

`StatelessElement` ‚Äî –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç `StatelessWidget`.

`StatefulElement` ‚Äî –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç `StatefulWidget`.

[`ProxyElement`](https://api.flutter.dev/flutter/widgets/ProxyElement-class.html) ‚Äî —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è [`InheritedElement`](https://api.flutter.dev/flutter/widgets/InheritedElement-class.html) –∏ [`ParentDataElement`](https://api.flutter.dev/flutter/widgets/ParentDataElement-class.html). –ò, –≥—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, `ProxyElement` —Å–ª—É–∂–∏—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –∏ –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º.

`InheritedElement` ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è [`InheritedWidget`](https://api.flutter.dev/flutter/widgets/InheritedWidget-class.html). –ü—Ä–æ —Ç–æ, –∫–∞–∫ –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã, –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º –Ω–∏–∂–µ.

`ParentDataElement` ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è `ParentDataWidget`. `ParentDataWidget` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —á—Ç–æ–±—ã —Å–æ–æ–±—â–∏—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º –≤–∏–¥–∂–µ—Ç–æ–º –ø—Ä–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–µ.

<p-important>

üìñ –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –≤–∏–¥–∂–µ—Ç—ã `Stack` –∏ `Positioned`. –ö–æ–≥–¥–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤–∏–¥–∂–µ—Ç `Positioned`, –º—ã –∑–∞–¥–∞—ë–º –µ–º—É —Ç–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–∞–∫ `left`, `right`, `top`, `bottom` –∏ –ø—Ä–æ—á–∏–µ. 
–û–Ω —Ö—Ä–∞–Ω–∏—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ [`MultiChildRenderObjectElement`](https://api.flutter.dev/flutter/widgets/MultiChildRenderObjectElement-class.html) –Ω–µ –ø–æ–ø—Ä–æ—Å–∏—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞ [`applyParentData`](https://api.flutter.dev/flutter/widgets/ParentDataWidget/applyParentData.html). –ò –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ `Stack` —Å–∞–º —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã.

</p-important>

### **2-—è –≥—Ä—É–ø–ø–∞**

`FooElement` ‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç `RenderObjectElement`, –≥–¥–µ `Foo` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ `RenderObject`. –ö –ø—Ä–∏–º–µ—Ä—É, [`LeafRenderObjectElement`](https://api.flutter.dev/flutter/widgets/LeafRenderObjectElement-class.html), [`SingleChildRenderObjectElement`](https://api.flutter.dev/flutter/widgets/SingleChildRenderObjectElement-class.html), [`MultiChildRenderObjectElement`](https://api.flutter.dev/flutter/widgets/MultiChildRenderObjectElement-class.html) –∏ –ø—Ä–æ—á–∏–µ. 

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã, –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫ –∂–µ –æ–Ω–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è.

## –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã

–ß—Ç–æ–±—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω—É–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞¬†`Element`, –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤–æ –≤—Å—ë–º –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è. 

**–ü–æ–ª—è:**

- `Widget`¬†‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–ª–∞ –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.
- `Owner`¬†‚Äî —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –±–∏–ª–¥–æ–º, –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —ç–ª–µ–º–µ–Ω—Ç–∞.
- `RenderObject`¬†‚Äî –±–ª–∏–∂–∞–π—à–∏–π `RenderObject`. –≠—Ç–æ `RenderObject` —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ª–∏–±–æ `RenderObject` –æ–¥–Ω–æ–≥–æ –∏–∑ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ï—Å–ª–∏ `RenderObject` –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ç–æ –±—É–¥–µ—Ç `null`.

–ú–µ—Ç–æ–¥—ã –∂–µ —Ä–∞–∑–±–µ—Ä—ë–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

### reassemble

–≠—Ç–æ—Ç [–º–µ—Ç–æ–¥](https://api.flutter.dev/flutter/widgets/Element/reassemble.html) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤ —Ä–µ–∂–∏–º–µ –¥–µ–±–∞–≥–∞ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ –≤—Ä–µ–º—è Hot Reload. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—â—É—é –ª–æ–≥–∏–∫—É, –Ω–∞–ø—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∑–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –∞—Å—Å–µ—Ç–æ–≤. 

### visitChildren

[–ú–µ—Ç–æ–¥](https://api.flutter.dev/flutter/widgets/Element/visitChildren.html), –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫–ª–∞—Å—Å—ã-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –¥–ª—è –ø—Ä–æ—Ö–æ–¥–∞ –ø–æ –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º.

–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∫–æ–ª–±—ç–∫, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —É–±—Ä–∞—Ç—å `RenderObject` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞:

```dart
void detachRenderObject() {
    visitChildren((Element child) {
      child.detachRenderObject();
    });
		...
  }
```

### updateChild

–≠—Ç–æ [–º–µ—Ç–æ–¥](https://api.flutter.dev/flutter/widgets/Element/updateChild.html), –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É–∂–∏—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ—Ç —Å–∞–º—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.

–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –º–µ—Ç–æ–¥—É Flutter –ø–æ–ª—É—á–∏–ª—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º ‚Äî –∑–∞ —Å—á—ë—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ü–æ—ç—Ç–æ–º—É —Ä–∞—Å—Å–∫–∞–∂–µ–º –æ –Ω—ë–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

–î–ª—è –Ω–∞—á–∞–ª–∞ ‚Äî –≤–æ—Ç –∫–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω:

```dart
Element? updateChild(Element? child, Widget? newWidget, Object? newSlot) {
		/// –í–∏–¥–∂–µ—Ç–∞ –±–æ–ª—å—à–µ –Ω–µ—Ç, –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
    if (newWidget == null) {
      if (child != null) {
        deactivateChild(child);
      }
      return null;
    }

    final Element newChild;
		/// –î–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª, –∞ –∑–Ω–∞—á–∏—Ç, –¥–∞–ª–µ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å
    /// –ª–∏–±–æ –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –ª–∏–±–æ —É–¥–∞–ª–µ–Ω–∏–µ
    if (child != null) {
      bool hasSameSuperclass = true;
      assert(() {
        final int oldElementClass = Element._debugConcreteSubtype(child);
        final int newWidgetClass = Widget._debugConcreteSubtype(newWidget);
        hasSameSuperclass = oldElementClass == newWidgetClass;
        return true;
      }());

      /// –≠–ª–µ–º–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∏–¥–∂–µ—Ç–æ–º, –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã, –∞ –∑–Ω–∞—á–∏—Ç,
      /// –ø—Ä–æ—Å—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º, –Ω–µ –º–µ–Ω—è—è –Ω–∏—á–µ–≥–æ
      if (hasSameSuperclass && child.widget == newWidget) {
        if (child.slot != newSlot) {
          updateSlotForChild(child, newSlot);
        }
        newChild = child;
      } else if (hasSameSuperclass &&
          Widget.canUpdate(child.widget, newWidget)) {
        if (child.slot != newSlot) {
          updateSlotForChild(child, newSlot);
        }
				...
				/// –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã, —Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—à —ç–ª–µ–º–µ–Ω—Ç
        child.update(newWidget);
        newChild = child;
      } else {
				/// –ï—Å–ª–∏ —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–∏–ø–æ–º –≤–∏–¥–∂–µ—Ç–∞, —Ç–æ 
				/// —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏ —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π, –ø–æ–¥ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π [newWidget]
        deactivateChild(child);
        assert(child._parent == null);
        newChild = inflateWidget(newWidget, newSlot);
      }
    } else {
      /// –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç, —Ç–∞–∫ –∫–∞–∫ –¥–æ —ç—Ç–æ–≥–æ –µ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ
      newChild = inflateWidget(newWidget, newSlot);
    }

    return newChild;
  }
```

–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –º–µ—Ç–æ–¥ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: 

1. `Element? child` ‚Äî –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç.
2. `Widget? newWidget` ‚Äî –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞.
3. `Object? newSlot` ‚Äî –Ω–æ–≤—ã–π —Å–ª–æ—Ç (–º–µ—Å—Ç–æ –≤ –¥–µ—Ä–µ–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤), –≥–¥–µ –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è —ç–ª–µ–º–µ–Ω—Ç. 

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –¥—Ä—É–≥–∏–º –º–µ—Ç–æ–¥–æ–º ‚Äî¬†`inflateWidget`.

–£ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –û–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–µ –Ω–∏–∂–µ.

![updateChild.png](https://yastatic.net/s3/ml-handbook/admin/update_Child_020a8a0e9f.png)

–¢–µ–ø–µ—Ä—å —Ä–∞–∑–±–µ—Ä—ë–º –∏—Ö —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ.

1. –ï—Å–ª–∏ `newWidget ==¬†null` (—ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –≤–∏–¥–∂–µ—Ç–∞ –±–æ–ª—å—à–µ –Ω–µ—Ç), —Ç–æ `child` –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è, –∏ –≤–µ—Ä–Ω—ë—Ç—Å—è `null`.
2. –ï—Å–ª–∏ `child == null && newWidget ‚â† null` (–æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—è–≤–∏–ª—Å—è –Ω–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç), —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞¬†`inflateWidget`, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —á–µ–≥–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ.
3. –ï—Å–ª–∏ `child ‚â† null && newWidget ‚â† null`, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
    - –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ, —á—Ç–æ –Ω–∞–º –±—ã–ª–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø—É —ç–ª–µ–º–µ–Ω—Ç–∞ (–ø–æ–¥ —Ç–∏–ø–æ–º –∏–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É¬†`StatelessWidget`,¬†`StatefulWidget`¬†–∏–ª–∏ –¥—Ä—É–≥–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤/—ç–ª–µ–º–µ–Ω—Ç–æ–≤), —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ª–µ–∂–∏—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π¬†`hasSameSuperclass`. –ù–æ —ç—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –¥–µ–±–∞–≥–∞. –ú–æ–∂–µ–º –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ –∫–æ–¥:
    
    ```dart
    assert(() {
       //–ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞: 1 ‚Äî StatefulElement, 2 ‚Äî StatelessElement, 0 ‚Äî –¥—Ä—É–≥–æ–π
       final int oldElementClass = Element._debugConcreteSubtype(child);
       //–ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø –≤–∏–¥–∂–µ—Ç–∞: 1 ‚Äî StatefulWidget, 2 ‚Äî StatelessWidget, 0 ‚Äî –¥—Ä—É–≥–æ–π
       final int newWidgetClass = Widget._debugConcreteSubtype(newWidget);
       // –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, —á—Ç–æ –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–æ–æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
       hasSameSuperclass = oldElementClass == newWidgetClass;
       
       return true;
    }());
    ```
    
    –ï—Å–ª–∏ –≤—ã—à–ª–æ —Ç–∞–∫, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –º–µ—Ç–æ–¥–µ¬†`inflateWidget`.
    
    –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∏ —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π.
    
    - –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–≤–Ω—ã, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
    - –ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∞–∑–Ω—ã–µ, –Ω–æ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞¬†`canUpdate`¬†—É –≤–∏–¥–∂–µ—Ç–∞ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∏ –µ—Å–ª–∏ –º—ã –º–æ–∂–µ–º –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —Ç–æ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –Ω–æ–≤—ã–π —Å–ª–æ—Ç, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–æ–π –∑–∞–¥–∞–Ω. 
    –ê —É `child` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞¬†`update` –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ù–∞ —ç—Ç–æ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.
    - –ï—Å–ª–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è —Ç–∏–ø—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, —Ç–æ `child` –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∏ –Ω–∞ –µ–≥–æ –º–µ—Å—Ç–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π, –∫–∞–∫ –≤ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –Ω–æ–º–µ—Ä 2.

### inflateWidget

–≠—Ç–æ—Ç [–º–µ—Ç–æ–¥](https://api.flutter.dev/flutter/widgets/Element/inflateWidget.html) —Å–æ–∑–¥–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞. 
–£ –Ω–µ–≥–æ –µ—Å—Ç—å –µ—Å—Ç—å –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

1. `Widget? newWidget` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.
2. `Object? newSlot` ‚Äî —Å–ª–æ—Ç –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞. 

–ï—Å–ª–∏ —É –≤–∏–¥–∂–µ—Ç–∞ –µ—Å—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª—é—á, —Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –∏ –≤–∑—è—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–≤—è–∑–∞–Ω —Å —Ç–µ–∫—É—â–∏–º –∫–ª—é—á–æ–º, –≤—ã–∑—ã–≤–∞—è –º–µ—Ç–æ–¥¬†`_retakeInactiveElement`. 

–ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞, —Ç–æ –æ–Ω –±—É–¥–µ—Ç –∑–∞–Ω–æ–≤–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω (–≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤¬†`_activateWithParent`¬†–∏¬†`updateChild`¬†—Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π). 

–ú–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è, —á—Ç–æ –º–µ—Ç–æ–¥—ã¬†`updateChild`¬†–∏¬†`inflateWidget`¬†–∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —Ü–∏–∫–ª–∏—á–Ω–æ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ `updateChild` –ø—Ä–æ—Å–∏—Ç `inflateWidget` –¥–æ—Å—Ç–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ –≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ª–∏–±–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.¬†

–ï—Å–ª–∏ –∂–µ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –∫–ª—é—á –Ω–µ –±—É–¥–µ—Ç –∑–∞–¥–∞–Ω, —Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è `newWidget`. –ò –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥¬†`mount`¬†–¥–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

```dart
Element inflateWidget(Widget newWidget, Object? newSlot) {
	...
  try {
    final Key? key = newWidget.key;
    if (key is GlobalKey) {
      final Element? newChild = _retakeInactiveElement(key, newWidget);
      if (newChild != null) {
        ...
        newChild._activateWithParent(this, newSlot);
        final Element? updatedChild = updateChild(newChild, newWidget, newSlot);
				...
        return updatedChild!;
      }
    }
		/// –ê –≤–æ—Ç —Ç—É—Ç –∏ —Å–∞–º —ç–ª–µ–º–µ–Ω—Ç ‚Äî —Å–æ–∑–¥–∞—ë—Ç –¥—Ä—É–≥–æ–π —ç–ª–µ–º–µ–Ω—Ç
    final Element newChild = newWidget.createElement();
    ...
    newChild.mount(this, newSlot);
    ...
    return newChild;
  } finally {
    ...
  }
}
```

–í—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω–æ–µ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –≤–∏–¥–µ –¥–∏–∞–≥—Ä–∞–º–º—ã:

![inflateWidget.png](https://yastatic.net/s3/ml-handbook/admin/inflate_Widget_2d73810dd0.png)

### mount

[–ú–µ—Ç–æ–¥](https://api.flutter.dev/flutter/widgets/Element/mount.html), –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –¥–µ—Ä–µ–≤–æ. 

–û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ —Å–ª–æ—Ç –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è. –ï—Å–ª–∏ –≤–∏–¥–∂–µ—Ç –∏–º–µ–ª¬†`GlobalKey`, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏–≤—è–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º. –î–∞–Ω–Ω—ã–µ –æ–± —ç—Ç–æ–º –∑–∞–Ω–æ—Å—è—Ç—Å—è –≤¬†`BuildOwner` (–ø–æ–∫–∞ –Ω–µ –±—É–¥–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —á—Ç–æ —ç—Ç–æ –∑–∞ —Å—É—â–Ω–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞–π—Ç–µ, —á—Ç–æ –æ–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏).

–¢–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ `InheritedWidget` —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞¬†`_updateInheritance`, –µ–≥–æ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ.

### _retakeInactiveElement

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º –¥–ª—è –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –∫–ª—é—á—É. –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª—é—á –∏ –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

–í–æ—Ç –∫–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω –≤–Ω—É—Ç—Ä–∏:

```dart
Element? _retakeInactiveElement(GlobalKey key, Widget newWidget) {
	final Element? element = key._currentElement;
  if (element == null) {
    return null;
  }
  if (!Widget.canUpdate(element.widget, newWidget)) {
    return null;
  }
  final Element? parent = element._parent;
  if (parent != null) {
    assert(() {
      if (parent == this) {
       /// –¢—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –≤—Å–µ–º –∏–∑–≤–µ—Å—Ç–Ω–æ–π –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å
       /// –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏:
       /// "A GlobalKey was used multiple times inside
			 /// one widget's child list."
      }
      return true;
    }());
    parent.forgetChild(element);
    parent.deactivateChild(element);
  }
  assert(element._parent == null);
  owner!._inactiveElements.remove(element);
	return element;
}
```

–í –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –¥–æ—Å—Ç–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –∫–ª—é—á–∞. –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–ª–∏ –≤–∏–¥–∂–µ—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω, —Ç–æ –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤–µ—Ä–Ω–µ—Ç `null`.

–î–∞–ª–µ–µ –º—ã –¥–æ—Å—Ç–∞—ë–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –∫–ª—é—á–µ. –ï—Å–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∫–æ–π-—Ç–æ –¥—Ä—É–≥–æ–π –≤–∏–¥–∂–µ—Ç —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª—é—á, –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–±—Ä–æ—Å –æ—à–∏–±–∫–∏ `A GlobalKey was used multiple times inside one widget's child list`.

–ï—Å–ª–∏ –∂–µ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ—Ç, —Ç–æ —ç–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö (`owner!._inactiveElements.remove(element)`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.

### update

–ú–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞ (—Å–º. –º–µ—Ç–æ–¥¬†`updateChild`). –ó–¥–µ—Å—å –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –æ—Å–æ–±–µ–Ω–Ω–æ–≥–æ, –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ¬†`_widget`¬†–Ω–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è.

 

```dart
void update(covariant Widget newWidget) {
    _widget = newWidget;    
}
```

### _activateWithParent

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ä–æ–¥–∏—Ç–µ–ª–µ–º. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏—è –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞¬†`activate`*,* –∞ —Ç–∞–∫–∂–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –¥–µ—Ä–µ–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ–±—ä–µ–∫—Ç¬†`RenderObject` *‚Äî* –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞¬†`attachRenderObject`.

### deactivateChild

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –∏ –ø–æ–º–µ—â–∞–µ—Ç –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –í —ç—Ç–æ–º –∂–µ –º–µ—Ç–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ—Ç –µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`detachRenderObject`.

### attachRenderObject

–í —ç—Ç–æ–º –º–µ—Ç–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ `RenderObject` –≤ –¥–µ—Ä–µ–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

### detachRenderObject

–í –¥–∞–Ω–Ω–æ–º –º–µ—Ç–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ `RenderObject` –∏–∑ –¥–µ—Ä–µ–≤–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

### activate

–ó–¥–µ—Å—å —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—è–µ—Ç —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞¬†`active`. –¢–µ–ø–µ—Ä—å —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –µ–≥–æ –∫–æ–¥ –∏ —É–∑–Ω–∞–µ–º, —á—Ç–æ —Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

```dart
 void activate() {
    // –°–º–µ–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞, –æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–º —Ü–∏–∫–ª–µ –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ
    _lifecycleState = _ElementLifecycle.active;
    // –¢—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–∏—Å—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. 
    // –ü–æ–¥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è —Å–≤—è–∑—å –º–µ–∂–¥—É Inherited-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏ —Ç–µ–∫—É—â–∏–º
    _dependencies?.clear();
    _hadUnsatisfiedDependencies = false;
    _updateInheritance();
    // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ ¬´–≥—Ä—è–∑–Ω—ã–π¬ª, —Ç–æ –µ—Å—Ç—å —É –Ω–µ–≥–æ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 
    // –∏–ª–∏, –∫ –ø—Ä–∏–º–µ—Ä—É, –º—ã –≤—ã–∑–≤–∞–ª–∏ –º–µ—Ç–æ–¥ setState(), 
    // —Ç–æ –º—ã –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–±–∏–ª–¥–∏—Ç—å –∑–∞–Ω–æ–≤–æ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç (–¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è ‚Äî –≤–∏–¥–∂–µ—Ç)
    if (_dirty) {
      owner!.scheduleBuildFor(this);
    }
    // –ê –≤–æ—Ç —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ didChangeDependencies —É State, 
    // –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑–∞–Ω —Å–æ StatefulWidget.
    if (hadDependencies) {
      didChangeDependencies();
    }
}
```

### deactivate

–í—ã–∑–æ–≤ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–¥–µ–ª–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º, —Ç–æ –µ—Å—Ç—å –æ–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è, –∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω. –û–±—ã—á–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–º–µ—Å—Ç–∏–ª—Å—è –≤ —Å–ø–∏—Å–æ–∫ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏ –ø–æ—Ç–∞—â–∏–ª –∑–∞ —Å–æ–±–æ–π –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã. –ï—Å–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –µ–≥–æ –∫–æ–¥, —Ç–æ –º—ã —Ç–∞–º –ø—Ä–æ—Å—Ç–æ —É–≤–∏–¥–∏–º –æ—Ç–≤—è–∑–∫—É –æ—Ç –≤—Å–µ—Ö `Inherited` –∏ —Å–º–µ–Ω—É —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```dart
void deactivate() {
    if (_dependencies != null && _dependencies!.isNotEmpty) {
        for (final InheritedElement dependency in _dependencies!) {
            dependency._dependents.remove(this);
        }
    }
    _inheritedWidgets = null; 
    _lifecycleState = _ElementLifecycle.inactive;
}
```

### unmount

–ú–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ –Ω—É–∂–µ–Ω. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–≤—è–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —É—Ç–µ—á–µ–∫ –≤ –ø–∞–º—è—Ç–∏, –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –≤–¥—Ä—É–≥ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è. –ê —Ç–∞–∫–∂–µ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `defunct`.

### markNeedsBuild

–ú–µ—Ç–æ–¥ –ø–æ–º–µ—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –∫–∞–∫ ¬´–≥—Ä—è–∑–Ω—ã–π¬ª, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–µ–¥—É–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–Ω–æ–≤–æ. –ò –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ. –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç ¬´–≥—Ä—è–∑–Ω—ã–º¬ª, –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –Ω–∞ –ø–æ–ª–µ `_dirty` —É —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

### rebuild

–î–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é, –∫–∞–∫ `BuildOwner`, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –≤–ø–µ—Ä–≤—ã–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è, –∞ —Ç–∞–∫–∂–µ –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`update`. –ü—Ä–∏ —ç—Ç–æ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π¬†`performRebuild`.

### performRebuild

–í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `build` —É –≤–∏–¥–∂–µ—Ç–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –Ω–µ–≥–æ. –ö–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞—ë–º –≤–∏–¥–∂–µ—Ç –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —É –Ω–µ–≥–æ –º–µ—Ç–æ–¥, —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–º –¥–æ—á–µ—Ä–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã. –ò –∏–º–µ–Ω–Ω–æ –ø–æ–¥ –¥–æ—á–µ—Ä–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã –º—ã —Å–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç—ã.

–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –≤–∏–¥–µ –¥–∏–∞–≥—Ä–∞–º–º—ã:

![FirstElement.png](https://yastatic.net/s3/ml-handbook/admin/First_Element_448dd4e90b.png)

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –∏ —É–∑–Ω–∞–ª–∏, –∑–∞ —á—Ç–æ –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç, –º–æ–∂–Ω–æ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É —Å —Ü–∏–∫–ª–æ–º —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –≤–∏–¥–∂–µ—Ç–æ–≤.

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

–£ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –µ—Å—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª. –° –ø–æ–º–æ—â—å—é –Ω–µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –≤–∏–¥–∂–µ—Ç —É–¥–∞–ª–∏–ª—Å—è —Å —ç–∫—Ä–∞–Ω–∞, –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –ø–æ –¥–µ—Ä–µ–≤—É, –¥–æ–±–∞–≤–∏–ª—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω. –í—Å–µ–≥–æ –µ—Å—Ç—å 4 —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —ç–ª–µ–º–µ–Ω—Ç:¬†`initial`*,* `active`, `inactive`, `defunct`*.*

### **–°–æ—Å—Ç–æ—è–Ω–∏–µ 1: initial**

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ä–∞–∑—É –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```dart
abstract class Element extends DiagnosticableTree implements BuildContext {
	...
	_ElementLifecycle _lifecycleState = _ElementLifecycle.initial
	...
}
```

–ü–µ—Ä–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî¬†`initial`¬†¬†‚Äî –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –Ω–µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ –¥–µ—Ä–µ–≤–æ: –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç –Ω–∏ –æ —Å–≤–æ–∏—Ö —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö, –Ω–∏ –æ –¥–æ—á–µ—Ä–Ω–∏—Ö, –Ω–∏ –≥–¥–µ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è.

### **–°–æ—Å—Ç–æ—è–Ω–∏–µ 2: active**

–£ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥¬†`mount`¬†. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —É –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –µ—â—ë –Ω–µ –±—ã–ª –≤ –¥–µ—Ä–µ–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —ç–ª–µ–º–µ–Ω—Ç —É–∑–Ω–∞—ë—Ç –æ —Å–≤–æ—ë–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ, –æ —Å–ª–æ—Ç–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è, –æ –≥–ª—É–±–∏–Ω–µ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è. –¢–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π,  —Ç–æ –µ—Å—Ç—å –≤—Å–µ—Ö `InheritedWidget`.

–ò —Ç—É—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º¬†`active`. –¢–∞–∫–∂–µ, –µ—Å–ª–∏ —É –≤–∏–¥–∂–µ—Ç–∞ –±—ã–ª –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–ª—é—á, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Ç–æ –µ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞ –Ω–∞–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `InheritedWidget`.

### **–°–æ—Å—Ç–æ—è–Ω–∏–µ 3: inactive**

–°–æ—Å—Ç–æ—è–Ω–∏–µ¬†`inactive`¬†–Ω–∞—Å—Ç—É–ø–∞–µ—Ç, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏: 

- —É–¥–∞–ª–µ–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ –∏–∑ –¥–µ—Ä–µ–≤–∞ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–∫—Ä—ã–ª–∏ —Å—Ç—Ä–∞–Ω–∏—á–∫—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏;
- –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ –ø–æ –¥–µ—Ä–µ–≤—É ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ –¥–µ–ª –ø–æ–º–µ–Ω—è–ª–∏ –º–µ—Å—Ç–∞–º–∏ –¥–≤–µ –∑–∞–¥–∞—á–∏;
- –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –±—ã–ª `StatelessWidget`, –∞ —Å—Ç–∞–ª `StatefulWidget`.

–ù–∞ —ç—Ç–æ–π —Å—Ç–∞–¥–∏–∏ –æ—á–∏—â–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–∏ –≤—Å—ë–º —ç—Ç–æ–º –º—ã –º–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç, –µ—Å–ª–∏:

- —É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –µ—Å—Ç—å `GlobalKey` –∏ –æ–Ω —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `GlobalKey` –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏;
- –∏ —Ç–∏–ø –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—Ç–æ –µ—Å—Ç—å —Ç–∏–ø –≤–∏–¥–∂–µ—Ç–∞) –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è.

–í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.

–ï—Å–ª–∏ –º—ã –º–æ–∂–µ–º –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç, —Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

![Untitled 3.png](https://yastatic.net/s3/ml-handbook/admin/Untitled_3_8fa91730d3.png)

–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–æ–∫ –∫ –æ—Å—Ç–∞–ª—å–Ω—ã–º —Ç–∞–∫–∏–º –∂–µ —ç–ª–µ–º–µ–Ω—Ç–∞–º. –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ¬†`_InactiveElements`. –ö–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫, –≤—Å–µ –µ–≥–æ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ.

### **–°–æ—Å—Ç–æ—è–Ω–∏–µ 4: defunct**

–≠—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–¥–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞. –û–Ω–∞ –Ω–∞—Å—Ç—É–ø–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –¥–µ—Ä–µ–≤–∞ –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç –±—ã–ª –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (—Ç. –µ. –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `inactive`).

–ó–¥–µ—Å—å —É–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —É–¥–∞–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–≤—è–∑–∞–Ω —Å —Ç–µ–∫—É—â–∏–º —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∏ –æ—á–∏—â–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –¥–∞–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≥–¥–µ-—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è.

–ß—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª—ë–Ω, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞¬†`unmount`¬†¬†—É —ç—Ç–æ–≥–æ —Å–∞–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞. –î–∞–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∫–ª–∞—Å—Å–µ¬†`_InactiveElements`, –∫–æ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Ñ–∞–∑–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è. –ò–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç—Å—è –ø–æ —Å–ø–∏—Å–∫—É –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ —É–¥–∞–ª—è–µ—Ç –∏—Ö –Ω–∞–≤—Å–µ–≥–¥–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –±–∞–∑—É —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ç–æ–º—É, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ `InheritedWidget` –∏ `Element`.

## InheritedWidget –∏ Element

`InheritedWidget` ‚Äî —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è `InheritedElement`, –∞ —Å–∞–º `InheritedElement` ‚Äî —ç—Ç–æ `ProxyElement`. –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è [–≤—ã—à–µ](https://www.notion.so/2-1-Elements-69c28b84c44b475e9337ca38b0de5150?pvs=21). –ò –≤—Å—ë —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `InheritedWidget` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö –≤–∏–¥–∂–µ—Ç–æ–≤. 

–ù–∞–ø—Ä–∏–º–µ—Ä, –æ–ø—Ä–µ–¥–µ–ª–∏–º `InhertiedWidget`. –û–Ω –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤:

```dart
class LikesInheritedWidget extends InheritedWidget {
  /// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤
  final int _amountLikes;

  const LikesInheritedWidget({
    super.key,
    int initialLikes = 0, // –Ω–∞—á–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤
    required super.child,
  }) : _amountLikes = initialLikes;

  int get amountLikes => _amountLikes;

  /// –ì–æ–≤–æ—Ä–∏–º, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, 
  /// —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤
  @override
  bool updateShouldNotify(covariant LikesInheritedWidget oldWidget) {
    return amountLikes != oldWidget.amountLikes;
  }

  /// **–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è** –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞
  /// –ï—Å–ª–∏ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤, —Ç–æ –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑–≤–∞–ª —ç—Ç–æ—Ç –º–µ—Ç–æ–¥,
  /// –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ª–∞–π–∫–æ–≤)
  static LikesInheritedWidget? of(BuildContext context) {
    /// [dependOnInheritedWidgetOfExactType] –∏—â–µ—Ç –±–ª–∏–∂–∞–π—à–∏–π –≤–≤–µ—Ä—Ö –ø–æ –¥–µ—Ä–µ–≤—É 
    /// –≤–∏–¥–∂–µ—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ [LikesInheritedWidget],
    /// –∏ –≥–æ–≤–æ—Ä–∏—Ç –≤–∏–¥–∂–µ—Ç—É –∏–∑ `context`, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å—Å—è, –µ—Å–ª–∏ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è
    /// –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤
    final widget =
        context.dependOnInheritedWidgetOfExactType<LikesInheritedWidget>();

    return widget;
  }
}
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤:

```dart
class LikesWidget extends StatelessWidget {
  const LikesWidget({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    /// NOTIFIER
    final likes = LikesInheritedWidget.of(context)?.likes ?? 0;

    return Text('Likes $likes');
  }
}
```

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –Ω—É–∂–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã, –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ, —á—Ç–æ –∂–µ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

–í –º–µ—Ç–æ–¥–µ `build` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ `of`  —É  `LikesInheritedWidget`, –∫–æ—Ç–æ—Ä—ã–π –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –≤—ã–∑—ã–≤–∞–µ—Ç `dependOnInheritedWidgetOfExactType` —É –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—ç–ª–µ–º–µ–Ω—Ç–∞).

–ù–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ `dependOnInheritedWidgetOfExactType`?

```dart
@override
T? dependOnInheritedWidgetOfExactType<T extends InheritedWidget>({Object? aspect}) {
  /// –°–º–æ—Ç—Ä–∏–º —Å–ø–∏—Å–æ–∫ InheritedWidget —É —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
  /// –ï—Å–ª–∏ –∏—Ö –Ω–µ—Ç, —Ç–æ –∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ T –Ω–µ—Ç
  final InheritedElement? ancestor = _inheritedWidgets == null ? null : _inheritedWidgets![T];
  if (ancestor != null) {
     /// –ï—Å–ª–∏ –∏—Å–∫–æ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—à–µ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ T –Ω–∞–π–¥–µ–Ω, —Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ—Ç –º–µ—Ç–æ–¥
     /// –¢—É–¥–∞ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –Ω–∞–π–¥–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ [aspect].
     /// [aspect] ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ InheritedModel.
     /// –ë–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É –º—ã –º–æ–∂–µ–º –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ –≤–∏–¥–∂–µ—Ç—ã,
     /// –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å–ª–∞–ª–∏—Å—å –Ω–∞ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ, –µ—Å–ª–∏ –æ–Ω–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —É InheritedModel
     return dependOnInheritedElement(ancestor, aspect: aspect) as T;
  }

  /// –ï—Å–ª–∏ –∂–µ –∏—Å–∫–æ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ T –Ω–µ—Ç, –∞ –º—ã –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞ –Ω–µ–≥–æ —Å–æ—Å–ª–∞—Ç—å—Å—è,
  /// —Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø–æ–º–µ—á–∞–µ—Ç, —á—Ç–æ –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, 
  /// –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –Ω–∞—à–ª–æ—Å—å –∏—Å–∫–æ–º–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞
  _hadUnsatisfiedDependencies = true;
  return null;
}
```

–¢–µ–ø–µ—Ä—å –∑–∞–≥–ª—è–Ω–µ–º –≤–Ω—É—Ç—Ä—å `dependOnInheritedElement` –∏ –µ—â—ë —á—É—Ç—å –ø–æ–∑–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è —Å–ø–∏—Å–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –∏—â–µ–º –Ω—É–∂–Ω—ã–π –Ω–∞–º `InheritedWidget`.

```dart
@override
InheritedWidget dependOnInheritedElement(InheritedElement ancestor, {Object? aspect}) {
  /// –ï—Å–ª–∏ —Å–ø–∏—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ—Ç, —Ç–æ —Å–æ–∑–¥–∞—ë–º –µ–≥–æ
  /// –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –º—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å
  _dependencies ??= HashSet<InheritedElement>();
  /// –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π –Ω–∞–º–∏ —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ T,
  /// –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç InheritedWidget, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ LikesInheritedWidget
  _dependencies!.add(ancestor);
  /// –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É InheritedElement,
  /// –¥–æ–±–∞–≤–ª—è—è —Ç—É–¥–∞ –Ω–∞—à —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
  ancestor.updateDependencies(this, aspect);
  /// –ò –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞—à LikesInheritedWidget
  return ancestor.widget as InheritedWidget;
}
```

–ú–µ—Ç–æ–¥ `updateDependencies` –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ `setDependencies`. –ê —Ç–æ—Ç –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞—à —ç–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞ `LikesWidget` –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. `value` ‚Äî —ç—Ç–æ `aspect`, –∫–æ—Ç–æ—Ä—ã–π —É–ø–æ–º—è–Ω—É—Ç –≤—ã—à–µ.

```dart
void setDependencies(Element dependent, Object? value) {
  _dependents[dependent] = value;
}
```

–í—Å—ë —ç—Ç–æ –ª–∏—à—å –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ –≤–∏–¥–∂–µ—Ç—ã –¥–æ–±–∞–≤–∏–ª–∏ —Å–µ–±—è –≤ —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º—ã—Ö –≤–∏–¥–∂–µ—Ç–æ–≤ `InheritedWidget`, –∞ —Ç–∞–∫–∂–µ –ø–æ–º–µ—Ç–∏–ª–∏ –¥–ª—è —Å–µ–±—è, —á—Ç–æ –æ–Ω–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ `InheritedWidget` . 

–ê —á—Ç–æ –Ω–∞—Å—á—ë—Ç —Å–ø–∏—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`InheritedWidget`)? –î–∞–≤–∞–π—Ç–µ –∏–∑—É—á–∏–º `_inheritedWidgets`. –≠—Ç–æ `Map`, –∫–ª—é—á–∏ –∫–æ—Ç–æ—Ä–æ–π ‚Äî —Ç–∏–ø –≤–∏–¥–∂–µ—Ç–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —ç–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ `InheritedElements`.

–û–±—ã—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç—É –º–∞–ø—É –∫ —Å–µ–±–µ.

```dart
/// –ò–º–µ–Ω–Ω–æ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –º–∞–ø—É, –∞ –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç –µ—ë
_inheritedWidgets = _parent?._inheritedWidgets;
```

–ê –≤–æ—Ç `InheritedElement` —Å–æ–∑–¥–∞—ë—Ç —ç—Ç—É –º–∞–ø—É –ª–∏–±–æ –∫–æ–ø–∏—Ä—É–µ—Ç –µ—ë –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç—É–¥–∞ —Å–µ–±—è, –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `_updateInheritance`.

```dart
@override
void _updateInheritance() {
  final Map<Type, InheritedElement>? incomingWidgets = _parent?._inheritedWidgets;
  if (incomingWidgets != null) {
    /// –∫–æ–ø–∏—Ä—É–µ—Ç –º–∞–ø—É —Ä–æ–¥–∏—Ç–µ–ª—è
    _inheritedWidgets = HashMap<Type, InheritedElement>.of(incomingWidgets);
  } else {
   /// –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é, –µ—Å–ª–∏ –≤—ã—à–µ –ø–æ –¥–µ—Ä–µ–≤—É —ç—Ç–æ –ø–µ—Ä–≤—ã–π InheritedElement
    _inheritedWidgets = HashMap<Type, InheritedElement>();
  }
  /// –î–æ–±–∞–≤–ª—è–µ—Ç —Å–µ–±—è –≤ —ç—Ç—É –º–∞–ø—É
  _inheritedWidgets![widget.runtimeType] = this;
}
```

–ò–∑ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –±—ã—Å—Ç—Ä–æ –∑–∞ *O(1),* —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è/—Å—Å—ã–ª–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

–ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `InheritedWidget`, –∞ —á—Ç–æ –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö `InheritedWidget`?

![inherited_didchdep.png](https://yastatic.net/s3/ml-handbook/admin/inherited_didchdep_e8af75843d.png)

–î–æ–ø—É—Å—Ç–∏–º, –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –æ–±–Ω–æ–≤–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ —É `InheritedWidget`. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –ª–∞–π–∫ –∏ –≥–¥–µ-—Ç–æ –≤—ã–∑–≤–∞–ª–∞—Å—å —Å–º–µ–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ –∏—Ç–æ–≥–µ –≤ `InheritedWidget` –ø–æ–ø–∞–ª–æ –¥—Ä—É–≥–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤. 

–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —Ç. –µ. —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –≤–∏–¥–∂–µ—Ç–∞ `LikesInheritedWidget`. –î–ª—è —ç—Ç–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ `update`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç `updated`. 

`updated` –≤—ã–∑—ã–≤–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —É –Ω–∞—à–µ–≥–æ `LikesInheritedWidget` –º–µ—Ç–æ–¥ `updateShouldNotify`. –ï—Å–ª–∏ —á–∏—Å–ª–æ –ª–∞–π–∫–æ–≤ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å, —Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `updated`. –û–Ω –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `notifyClients`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ–±—â–∞–µ—Ç –≤—Å–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º –∏–∑ —Å–ø–∏—Å–∫–∞ `_dependencies`, —á—Ç–æ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ `notifyDependent`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç **—É** **–∑–∞–≤–∏—Å–∏–º–æ–≥–æ** **—ç–ª–µ–º–µ–Ω—Ç–∞** –º–µ—Ç–æ–¥ `didChangeDependencies`. –ê –¥–∞–ª–µ–µ `didChangeDependencies` –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `markNeedsBuild`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–µ—á–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–∞–∫ —Ç—Ä–µ–±—É—é—â–∏–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏.

–î–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–∑–æ–≤–æ–≤ –¥–∏–∞–≥—Ä–∞–º–º–æ–π:

![Untitled_(1).png](https://yastatic.net/s3/ml-handbook/admin/Untitled_1_43d2f1bf1b.png)

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ `InheritedWidget` –∏ `Element`, –º–æ–∂–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ–π –ø–∞—Ä–µ ‚Äî  `RenderObject` –∏ `Element`.

## RenderObject –∏ Element

–ù–µ –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã –º–æ–≥—É—Ç —Ä–∏—Å–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∂–µ—Ç—ã –ø—Ä–æ—Å—Ç–æ —Å–æ–¥–µ—Ä–∂–∞—Ç –¥—Ä—É–≥–∏–µ –≤–∏–¥–∂–µ—Ç—ã, –≤—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω—É—é—Ç —ç—Ç–∏ –≤–∏–¥–∂–µ—Ç—ã, —Ç—Ä–µ—Ç—å–∏ —Ä–∏—Å—É—é—Ç —á—Ç–æ-–ª–∏–±–æ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω—ã–π –æ–≤–∞–ª. 

–í–∏–¥–∂–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Column`, `Row` –∏ –ø—Ä.) –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å, —Å–æ–¥–µ—Ä–∂–∞—Ç –º–µ—Ç–æ–¥ `createRenderObject`. –û–Ω —Å–æ–∑–¥–∞—ë—Ç —É–∂–µ –∑–Ω–∞–∫–æ–º—ã–π –Ω–∞–º `RenderObject`. 

–¢–∞–∫–∏–µ –≤–∏–¥–∂–µ—Ç—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç –∫–ª–∞—Å—Å–∞ `RenderObjectWidget`. –ò —Ç–∞–∫–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –æ—Å–æ–±—ã–π —ç–ª–µ–º–µ–Ω—Ç `RenderObjectElement`.

`RenderObjectElement` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã, –æ—Ç–ª–∏—á–Ω—ã–µ –æ—Ç –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: `insertRenderObjectChild`, `moveRenderObjectChild`, `removeRenderObjectChild`; –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –º–µ—Ç–æ–¥—ã: `attachRenderObject`, `detachRenderObject`.

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–¥—Ä–æ–±–Ω–µ–µ —Ä–∞–±–æ—Ç—É `attachRenderObject`, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç `RenderObject` –≤ –¥–µ—Ä–µ–≤–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø—Ä–∏ `mount` —ç–ª–µ–º–µ–Ω—Ç–∞:

–ú—ã —Ç—É—Ç –≤–∏–¥–∏–º, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ `RenderObjectElement`. –£ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `insertRenderObjectChild`, –∫–æ—Ç–æ—Ä—ã–π –≤—Å—Ç–∞–≤–ª—è–µ—Ç `RenderObject` —Ç–µ–∫—É—â–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π `RenderObject`.

```dart
@override
void attachRenderObject(...) {
	...
  _ancestorRenderObjectElement = _findAncestorRenderObjectElement();
	_ancestorRenderObjectElement?.insertRenderObjectChild(renderObject, ...);
  ...
}
```

–ú–µ—Ç–æ–¥ `detachRenderObject` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞. –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º –º–µ—Ç–æ–¥ —É–¥–∞–ª—è–µ—Ç `RenderObject` –∏–∑ –¥–µ—Ä–µ–≤–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –æ–Ω —É–∂–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–∞–º). –£–¥–∞–ª–µ–Ω–∏–µ `RenderObject` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –≤—ã–∑–æ–≤–∞ `removeRenderObjectChild`.

```dart
@override
  void detachRenderObject() {
    if (_ancestorRenderObjectElement != null) {
      _ancestorRenderObjectElement!.removeRenderObjectChild(renderObject, ...);
      _ancestorRenderObjectElement = null;
    }
    ...
  }
```

–ú–µ—Ç–æ–¥ `moveRenderObjectChild` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —É –≤–∏–¥–∂–µ—Ç–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ—á–µ—Ä–Ω–∏—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–∏–¥–∂–µ—Ç `Column` –∏–ª–∏ `Row`, –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Å–ø–∏—Å–∫–∞ `children`. –ò —Å–ª—É–∂–∏—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å `RenderObject` –≤ –Ω–æ–≤—ã–π —Å–ª–æ—Ç.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–≤–∞–π –ø–æ–¥–≤–µ–¥—ë–º –Ω–µ–±–æ–ª—å—à–æ–π –∏—Ç–æ–≥.
–ú—ã —É–∑–Ω–∞–ª–∏ —á—Ç–æ `Widget` ‚Äî —ç—Ç–æ –ª–∏—à—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è `Element`, –∞ —Å–∞–º `Element` ‚Äî —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ç–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏). –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏, –∫–∞–∫–∏–µ –±—ã–≤–∞—é—Ç —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∏ –∏–∑—É—á–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è. 

–¢–µ–ø–µ—Ä—å –≤—ã —Å–º–æ–∂–µ—Ç–µ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –≤–∏–¥–∂–µ—Ç–æ–≤ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è—Ö üòÉ

–ß—Ç–æ –∂, –∞ –¥–∞–ª–µ–µ –ø–µ—Ä–µ–π–¥—ë–º –∫ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–º—É —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—é `RenderObject`.